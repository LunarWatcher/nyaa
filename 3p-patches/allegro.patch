diff --git a/CMakeLists.txt b/CMakeLists.txt
index 5b6afcf0c..fea03dec7 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1248,25 +1248,7 @@ write_basic_package_version_file(${PKG_VERSION_FILE}
   VERSION ${ALLEGRO_VERSION}
   COMPATIBILITY AnyNewerVersion
 )
-install(
-  TARGETS ${ALLEGRO_TARGETS}
-  EXPORT ${PKG_TARGETS_NAME}
-)
-install(
-  EXPORT ${PKG_TARGETS_NAME}
-  NAMESPACE ${PKG_NAME}::
-  DESTINATION ${PKG_CONFIG_INSTALL_DIR}
-)
-install(
-  FILES ${PKG_CONFIG_FILE} ${PKG_VERSION_FILE}
-  DESTINATION ${PKG_CONFIG_INSTALL_DIR}
-)
 
-# Export build tree to ease development and debugging
-export(EXPORT ${PKG_TARGETS_NAME}
-  FILE "${PKG_GENERATED_DIR}/${PKG_NAME}Targets.cmake"
-  NAMESPACE ${PKG_NAME}::
-)
 
 #-----------------------------------------------------------------------------#
 #
diff --git a/addons/CMakeLists.txt b/addons/CMakeLists.txt
index f8867e26b..e29fb555d 100644
--- a/addons/CMakeLists.txt
+++ b/addons/CMakeLists.txt
@@ -82,88 +82,13 @@ if(SUPPORT_FONT AND WANT_TTF)
     option(FREETYPE_PNG "Enable if FreeType static library needs png linked in." off)
     option(FREETYPE_HARFBUZZ "Enable if FreeType static library needs harfbuzz linked in." off)
 
-    if(FREETYPE_FOUND)
-        set(FREETYPE_TEST_SOURCE "
-            #include <ft2build.h>
-            #include FT_FREETYPE_H
-            int main(void) {
-                FT_Library ft;
-                FT_Open_Args args;
-                FT_Face face;
-                FT_Int32 ft_load_flags;
-                FT_Error e;
-                int ft_index;
-                FT_Init_FreeType(&ft);
-                FT_Open_Face(ft, &args, 0, &face);
-                return FT_Load_Glyph(face, ft_index, ft_load_flags);
-            }")
-
-        set(TTF_INCLUDE_DIRECTORIES ${FREETYPE_INCLUDE_DIRS})
-
-        set(CMAKE_REQUIRED_LIBRARIES ${FREETYPE_LIBRARIES})
-        set(CMAKE_REQUIRED_INCLUDES ${FREETYPE_INCLUDE_DIRS})
-        run_c_compile_test("${FREETYPE_TEST_SOURCE}" TTF_COMPILES)
-        if(TTF_COMPILES)
-            set(TTF_LIBRARIES ${FREETYPE_LIBRARIES})
-        else()
-            if(FREETYPE_ZLIB)
-                find_package(ZLIB)
-            endif()
-
-            if(FREETYPE_BZIP2)
-                find_package(BZip2)
-            endif()
-
-            if(FREETYPE_PNG)
-                find_package(PNG)
-            endif()
-
-            if (FREETYPE_HARFBUZZ)
-                find_package(HarfBuzz)
-            endif()
-
-            # Try compiling with the extra dependencies.
-            set(FREETYPE_STATIC_LIBRARIES ${FREETYPE_LIBRARIES})
-            if(FREETYPE_ZLIB AND ZLIB_FOUND)
-                list(APPEND FREETYPE_STATIC_LIBRARIES "${ZLIB_LIBRARIES}")
-            endif()
-
-            if(FREETYPE_BZIP2 AND BZIP2_FOUND)
-                list(APPEND FREETYPE_STATIC_LIBRARIES "${BZIP2_LIBRARIES}")
-            endif()
-
-            if(FREETYPE_PNG AND PNG_FOUND)
-                list(APPEND FREETYPE_STATIC_LIBRARIES "${PNG_LIBRARIES}")
-            endif()
-
-            if (FREETYPE_HARFBUZZ AND HARFBUZZ_FOUND)
-                # there's a circular dependency between Harfbuzz and Freetype, so one of them has to be
-                # repeated to ensure proper static linking order
-                list(APPEND FREETYPE_STATIC_LIBRARIES "${HARFBUZZ_LIBRARIES}" "${FREETYPE_LIBRARIES}")
-            endif()
-
-            set(CMAKE_REQUIRED_LIBRARIES ${FREETYPE_STATIC_LIBRARIES})
-            set(CMAKE_REQUIRED_INCLUDES ${FREETYPE_INCLUDE_DIRS})
-            run_c_compile_test("${FREETYPE_TEST_SOURCE}" TTF_COMPILES_WITH_EXTRA_DEPS)
-            if(TTF_COMPILES_WITH_EXTRA_DEPS)
-                set(TTF_COMPILES 1)
-                set(TTF_LIBRARIES ${FREETYPE_STATIC_LIBRARIES})
-            endif()
-        endif()
-        set(CMAKE_REQUIRED_INCLUDES)
-        set(CMAKE_REQUIRED_LIBRARIES)
+    set(TTF_INCLUDE_DIRECTORIES ${FREETYPE_INCLUDE_DIRS})
+    set(TTF_LIBRARIES ${FREETYPE_LIBRARIES})
 
-        if(TTF_COMPILES)
-            add_subdirectory(ttf)
-            set(SUPPORT_TTF 1 PARENT_SCOPE)
-            set(TTF_LINK_WITH ${TTF_LINK_WITH} PARENT_SCOPE)
-            list(APPEND ADDON_PKG_CONFIG_FILES allegro_ttf)
-        else()
-            message(WARNING "FreeType doesn't compile. Disabling support.")
-        endif()
-    else(FREETYPE_FOUND)
-        message("WARNING: FreeType not found, disabling support.")
-    endif(FREETYPE_FOUND)
+    add_subdirectory(ttf)
+    set(SUPPORT_TTF 1 PARENT_SCOPE)
+    set(TTF_LINK_WITH ${TTF_LINK_WITH} PARENT_SCOPE)
+    list(APPEND ADDON_PKG_CONFIG_FILES allegro_ttf)
 endif(SUPPORT_FONT AND WANT_TTF)
 
 addons_summary("- TTF addon" SUPPORT_TTF)
diff --git a/addons/image/CMakeLists.txt b/addons/image/CMakeLists.txt
index dac951f34..527818aeb 100644
--- a/addons/image/CMakeLists.txt
+++ b/addons/image/CMakeLists.txt
@@ -111,19 +111,16 @@ endif(WANT_IMAGE_FREEIMAGE)
 image_summary(" - FreeImage" ALLEGRO_CFG_IIO_SUPPORT_FREEIMAGE)
 
 if(WANT_IMAGE_PNG AND NOT ALLEGRO_CFG_IIO_SUPPORT_PNG)
-    find_package(PNG)
-    if(PNG_FOUND)
-        # HAVE_PNG means libpng is available (and should be used)
-        set(ALLEGRO_CFG_IIO_HAVE_PNG 1)
-        set(ALLEGRO_CFG_IIO_SUPPORT_PNG 1)
-        list(APPEND IMAGE_SOURCES png.c)
-        list(APPEND IMAGE_LIBRARIES ${PNG_LIBRARIES})
-        list(APPEND IMAGE_DEFINES ${PNG_DEFINITIONS})
-        list(APPEND IMAGE_INCLUDE_DIRECTORIES ${PNG_INCLUDE_DIR})
-        include_directories(SYSTEM ${PNG_INCLUDE_DIR})
-    else(PNG_FOUND)
-        message("WARNING: libpng not found, disabling support")
-    endif(PNG_FOUND)
+    find_package(PNG REQUIRED)
+    find_package(ZLIB REQUIRED)
+    # HAVE_PNG means libpng is available (and should be used)
+    set(ALLEGRO_CFG_IIO_HAVE_PNG 1)
+    set(ALLEGRO_CFG_IIO_SUPPORT_PNG 1)
+    list(APPEND IMAGE_SOURCES png.c)
+    list(APPEND IMAGE_LIBRARIES ${PNG_LIBRARIES} ${ZLIB_LIBARIES})
+    list(APPEND IMAGE_DEFINES ${PNG_DEFINITIONS})
+    list(APPEND IMAGE_INCLUDE_DIRECTORIES ${PNG_INCLUDE_DIR})
+    include_directories(SYSTEM ${PNG_INCLUDE_DIR})
 endif(WANT_IMAGE_PNG AND NOT ALLEGRO_CFG_IIO_SUPPORT_PNG)
 
 image_summary(" - libpng" PNG_FOUND)
